<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuranKu - Platform Belajar Al-Quran dan Keislaman</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
    <style>

 

        /* Mode Selection */
        .mode-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .mode-card {
            background: rgba(31, 56, 64, 0.6);
            border-radius: var(--border-radius);
            padding: 40px 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(46, 203, 156, 0.2);
            position: relative;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            backdrop-filter: blur(5px);
        }

        .mode-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(46, 203, 156, 0.1), transparent);
            transition: left 0.5s;
        }

        .mode-card:hover::before {
            left: 100%;
        }

        .mode-card:hover {
            transform: translateY(-5px);
            border-color: var(--secondary-color);
            box-shadow: 0 12px 30px rgba(26, 147, 111, 0.2);
        }

        .mode-card.active {
            border-color: var(--secondary-color);
            background: linear-gradient(135deg, rgba(26, 147, 111, 0.15) 0%, rgba(46, 203, 156, 0.15) 100%);
        }

        .mode-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            display: block;
            transition: transform 0.3s ease;
            color: var(--secondary-color);
        }

        .mode-card:hover .mode-icon {
            transform: scale(1.1);
        }

        .mode-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--text-light-primary);
        }

        .mode-card p {
            color: var(--text-light-secondary);
            line-height: 1.6;
        }

        /* Search Bar */
        .search-container {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
        }

        .search-box {
            display: flex;
            width: 100%;
            max-width: 600px;
            background: rgba(31, 56, 64, 0.7);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(46, 203, 156, 0.2);
            transition: border-color 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .search-box:focus-within {
            border-color: var(--secondary-color);
        }

        .search-input {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: transparent;
            color: var(--text-light-primary);
            font-size: 1rem;
            outline: none;
        }

        .search-input::placeholder {
            color: #8da9b0;
        }

        .search-btn {
            padding: 0 20px;
            background: var(--primary-color);
            border: none;
            color: white;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .search-btn:hover {
            background: var(--secondary-color);
        }

        /* Subject Tabs */
        .subject-tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 40px;
            border-bottom: 1px solid rgba(46, 203, 156, 0.1);
            padding-bottom: 20px;
        }

        .subject-tab {
            background: transparent;
            color: var(--text-light-secondary);
            border: 1px solid rgba(46, 203, 156, 0.2);
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            backdrop-filter: blur(2px);
        }

        .subject-tab:hover {
            border-color: var(--secondary-color);
            color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .subject-tab.active {
            background: var(--gradient-primary);
            color: white;
            border-color: transparent;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
        }

        .content-card {
            background: rgba(31, 56, 64, 0.6);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: all 0.3s ease;
            border: 1px solid rgba(46, 203, 156, 0.1);
            position: relative;
            backdrop-filter: blur(5px);
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(26, 147, 111, 0.2);
            border-color: var(--secondary-color);
        }

        .premium-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            color: #000;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            z-index: 10;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .content-thumbnail {
            height: 200px;
            position: relative;
            overflow: hidden;
        }

        .content-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .content-card:hover .content-thumbnail img {
            transform: scale(1.05);
        }

        .video-thumbnail {
            background: var(--gradient-primary);
        }

        .quiz-thumbnail {
            background: var(--gradient-secondary);
        }

        .material-thumbnail {
            background: var(--gradient-primary);
        }

        .content-info {
            padding: 25px;
        }

        .content-info h4 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--text-light-primary);
        }

        .content-info p {
            color: var(--text-light-secondary);
            margin-bottom: 15px;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .content-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-size: 0.9rem;
            color: var(--text-light-secondary);
        }

        .instructor-info {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: var(--text-light-secondary);
        }

        .hidden {
            display: none;
        }

        /* Video Player Styles */
        .video-player-container {
            background: rgba(31, 56, 64, 0.8);
            border-radius: var(--border-radius);
            overflow: hidden;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .video-player {
            position: relative;
            background: #000;
        }

        .video-element {
            width: 100%;
            height: 500px;
            background: #000;
        }

        .video-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .video-player:hover .video-controls {
            opacity: 1;
        }

        .control-btn {
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 6px;
            transition: all 0.3s ease;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }

        .progress-bar {
            flex: 1;
            height: 8px;
            background: rgba(255,255,255,0.3);
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            transition: height 0.2s ease;
        }

        .progress-bar:hover {
            height: 10px;
        }

        .progress-fill {
            height: 100%;
            background: var(--secondary-color);
            border-radius: 4px;
            width: 0%;
            transition: width 0.1s ease;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background: var(--secondary-color);
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .progress-bar:hover .progress-fill::after {
            opacity: 1;
        }

        .time-display {
            color: white;
            font-size: 0.9rem;
            font-weight: 500;
            min-width: 80px;
            text-align: center;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .volume-slider {
            width: 80px;
            height: 4px;
            background: rgba(255,255,255,0.3);
            border-radius: 2px;
            outline: none;
            cursor: pointer;
            -webkit-appearance: none;
            appearance: none;
            transition: all 0.2s ease;
        }

        .volume-slider:hover {
            height: 6px;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: var(--secondary-color);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .volume-slider:hover::-webkit-slider-thumb {
            width: 16px;
            height: 16px;
        }

        .volume-slider::-moz-range-thumb {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: var(--secondary-color);
            cursor: pointer;
            border: none;
            transition: all 0.2s ease;
        }

        .volume-slider:hover::-moz-range-thumb {
            width: 16px;
            height: 16px;
        }

        .speed-select {
            background: rgba(0,0,0,0.7);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .speed-select:hover {
            background: rgba(0,0,0,0.9);
            border-color: var(--secondary-color);
        }

        .speed-select option {
            background: #000;
            color: white;
        }

        .fullscreen-btn {
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 6px;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .fullscreen-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }

        /* Quiz Styles */
        .quiz-container {
            background: rgba(31, 56, 64, 0.8);
            border-radius: var(--border-radius);
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(46, 203, 156, 0.2);
        }

        .quiz-timer {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 1.1rem;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .quiz-progress {
            color: var(--text-light-secondary);
            font-size: 1rem;
        }

        .question-container {
            margin-bottom: 30px;
        }

        .question-text {
            font-size: 1.3rem;
            margin-bottom: 25px;
            color: var(--text-light-primary);
            line-height: 1.6;
        }

        .options-container {
            display: grid;
            gap: 15px;
        }

        .option-btn {
            background: rgba(46, 203, 156, 0.1);
            border: 2px solid rgba(46, 203, 156, 0.3);
            color: var(--text-light-primary);
            padding: 15px 20px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 1rem;
        }

        .option-btn:hover {
            background: rgba(46, 203, 156, 0.2);
            border-color: var(--secondary-color);
            transform: translateX(5px);
        }

        .option-btn.selected {
            background: var(--secondary-color);
            border-color: var(--secondary-color);
            color: white;
        }

        .option-btn.correct {
            background: #27ae60;
            border-color: #27ae60;
            color: white;
        }

        .option-btn.incorrect {
            background: #e74c3c;
            border-color: #e74c3c;
            color: white;
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .quiz-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .quiz-popup.active {
            opacity: 1;
            visibility: visible;
        }

        .quiz-popup-content {
            background: var(--bg-dark-secondary);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 500px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            transform: translateY(20px);
            transition: transform 0.4s ease;
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .quiz-popup.active .quiz-popup-content {
            transform: translateY(0);
        }

        .quiz-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: rgba(46, 203, 156, 0.1);
            border-radius: var(--border-radius);
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .quiz-info-item {
            text-align: center;
        }

        .quiz-info-item .label {
            font-size: 0.9rem;
            color: var(--text-light-secondary);
            margin-bottom: 5px;
        }

        .quiz-info-item .value {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--secondary-color);
        }

        .quiz-results {
            background: rgba(31, 56, 64, 0.8);
            border-radius: var(--border-radius);
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .result-score {
            text-align: center;
            margin-bottom: 30px;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: conic-gradient(var(--secondary-color) 0deg, var(--secondary-color) var(--score-angle, 0deg), rgba(46, 203, 156, 0.2) var(--score-angle, 0deg));
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            position: relative;
        }

        .score-circle::before {
            content: '';
            position: absolute;
            width: 80px;
            height: 80px;
            background: var(--bg-dark-secondary);
            border-radius: 50%;
        }

        .score-text {
            position: relative;
            z-index: 1;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-light-primary);
        }

        .result-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: rgba(46, 203, 156, 0.1);
            border-radius: var(--border-radius);
        }

        .result-item {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
        }

        .result-item.correct {
            background: rgba(39, 174, 96, 0.2);
            border: 1px solid rgba(39, 174, 96, 0.3);
        }

        .result-item.incorrect {
            background: rgba(231, 76, 60, 0.2);
            border: 1px solid rgba(231, 76, 60, 0.3);
        }

        .result-item .number {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .result-item.correct .number {
            color: #27ae60;
        }

        .result-item.incorrect .number {
            color: #e74c3c;
        }

        .result-item .label {
            font-size: 0.9rem;
            color: var(--text-light-secondary);
        }

        .result-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        /* Material Reading Styles */
        .material-container {
            background: rgba(31, 56, 64, 0.8);
            border-radius: var(--border-radius);
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .material-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(46, 203, 156, 0.2);
        }

        .reading-timer {
            background: var(--gradient-primary);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 1rem;
        }

        .material-content {
            color: var(--text-light-primary);
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .material-content h2 {
            color: var(--secondary-color);
            margin: 30px 0 15px;
            font-size: 1.5rem;
        }

        .material-content h3 {
            color: var(--text-light-primary);
            margin: 25px 0 10px;
            font-size: 1.3rem;
        }

        .material-content h4 {
            color: var(--text-light-primary);
            margin: 20px 0 10px;
            font-size: 1.2rem;
        }

        .material-content p {
            margin-bottom: 15px;
        }

        .material-content ul, .material-content ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        .material-content li {
            margin-bottom: 8px;
        }

        .material-content .highlight {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }

        .material-content .quote {
            background: rgba(46, 203, 156, 0.1);
            border-left: 4px solid var(--secondary-color);
            padding: 15px 20px;
            margin: 20px 0;
            font-style: italic;
            border-radius: 0 8px 8px 0;
        }

        /* Premium Popup */
        .premium-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .premium-popup.active {
            opacity: 1;
            visibility: visible;
        }

        .premium-content {
            background: var(--bg-dark-secondary);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 500px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            transform: translateY(20px);
            transition: transform 0.4s ease;
            border: 1px solid rgba(46, 203, 156, 0.2);
        }

        .premium-popup.active .premium-content {
            transform: translateY(0);
        }

        .premium-icon {
            font-size: 4rem;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .premium-content h2 {
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .premium-content p {
            color: var(--text-light-secondary);
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .premium-btn {
            display: inline-block;
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            color: #000;
            padding: 12px 30px;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 700;
            margin-top: 10px;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .premium-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.4);
        }

        .close-popup {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5rem;
            color: var(--text-light-secondary);
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-popup:hover {
            color: var(--text-light-primary);
        }

        /* Responsive Styles */

        @media (max-width: 768px) {
            .video-element {
                height: 300px;
            }

            .quiz-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .quiz-info {
                grid-template-columns: 1fr;
            }

            .result-actions {
                flex-direction: column;
                align-items: center;
            }

            .video-controls {
                flex-wrap: wrap;
                gap: 10px;
            }

            .volume-control {
                order: 1;
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <header class="header" id="mainHeader">
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="nav-logo">Quran<span>Ku</span></a>
                <ul class="nav-menu">
                    <li class="nav-item"><a href="index.html" class="nav-link">Beranda</a></li>
                    <li class="nav-item"><a href="tentang.html" class="nav-link">Tentang Kami</a></li>
                    <li class="nav-item"><a href="harga.html" class="nav-link">Berlangganan</a></li>
                    <li class="nav-item"><a href="surah.html" class="nav-link">Surah</a></li>
                    <li class="nav-item"><a href="materi.html" class="nav-link active">Fitur Al-Quran</a></li>
                    <li class="nav-item"><a href="kontak.html" class="nav-link">Kontak</a></li>
                </ul>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Home Page -->
    <div id="homePage">
        <section class="page-title-section">
            <div class="container">
                <h1>Belajar Al-Quran dan Ilmu Keislaman</h1>
                <p>Jelajahi koleksi lengkap video pembelajaran, bank soal, dan materi untuk memperdalam ilmu agama</p>
            </div>
        </section>

        <main class="section-padding">
            <div class="container">
                <!-- Mode Selection -->
                <div id="modeSelection">
                    <h2 class="section-title">Pilih Metode Belajar</h2>
                    <p class="section-subtitle">Tentukan cara belajar yang paling sesuai dengan kebutuhan dan gaya belajarmu</p>
                    
                    <div class="mode-selection">
                        <div class="mode-card" data-mode="video">
                            <span class="mode-icon"><i class="fas fa-video"></i></span>
                            <h3>Video Pembelajaran</h3>
                            <p>Belajar dengan video interaktif dari ustadz dan ulama berpengalaman dengan penjelasan yang mudah dipahami</p>
                        </div>
                        <div class="mode-card" data-mode="quiz">
                            <span class="mode-icon"><i class="fas fa-brain"></i></span>
                            <h3>Bank Soal</h3>
                            <p>Latihan soal lengkap dengan pembahasan detail untuk mengasah kemampuan pemahaman agama</p>
                        </div>
                        <div class="mode-card" data-mode="material">
                            <span class="mode-icon"><i class="fas fa-book"></i></span>
                            <h3>Materi Bacaan</h3>
                            <p>Rangkuman materi komprehensif dalam format PDF dan interaktif untuk referensi belajar kapan saja</p>
                        </div>
                    </div>
                </div>

                <!-- Content Section -->
                <div id="contentSection" class="hidden">
                    <button class="btn btn-secondary" onclick="backToModeSelection()" style="margin-bottom: 30px;">
                        <i class="fas fa-arrow-left"></i> Kembali ke Pilihan Mode
                    </button>
                    
                    <!-- Search Bar -->
                    <div class="search-container">
                        <div class="search-box">
                            <input type="text" class="search-input" id="searchInput" placeholder="Cari konten...">
                            <button class="search-btn" onclick="searchContent()">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="subject-tabs">
                        <button class="subject-tab active" data-subject="all">Semua</button>
                        <button class="subject-tab" data-subject="quran-hadis">Quran & Hadis</button>
                        <button class="subject-tab" data-subject="fiqih ibadah & muamalah">Fiqih Ibadah & Muamalah</button>
                        <button class="subject-tab" data-subject="fiqih keluarga & sosial">Fiqih Keluarga & Sosial</button>
                        <button class="subject-tab" data-subject="sejarah-islam">Sejarah Islam</button>
                        <button class="subject-tab" data-subject="akidah & teologi islam">Aqidah & Teologi Islam</button>
                        <button class="subject-tab" data-subject="bahasa-arab">Bahasa Arab</button>
                        <button class="subject-tab" data-subject="ilmu-tajwid">Ilmu Tajwid</button>
                        <button class="subject-tab" data-subject="doa-dzikir">Doa dan Dzikir</button>
                        <button class="subject-tab" data-subject="pengajaran islam">Pendidikan & Metodologi Pengajaran Islam</button>
                        <button class="subject-tab" data-subject="pengembangan diri">Kehidupan & Pengembangan Diri Muslim</button>
                        <button class="subject-tab" data-subject="isu">Isu Kontemporer & Sosial</button>
                        <button class="subject-tab" data-subject="seni islam">Seni & Budaya Islam</button>
                        <button class="subject-tab" data-subject="teknologi">Teknologi & Aplikasi</button>
                    </div>

                    <div class="content-grid" id="contentGrid">
                        <!-- Konten akan diisi melalui JavaScript -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Video Player Page -->
    <div id="videoPage" class="hidden">
        <section class="page-title-section">
            <div class="container">
                <button class="btn btn-secondary" onclick="showHomePage()" style="margin-bottom: 20px;">
                    <i class="fas fa-arrow-left"></i> Kembali ke Materi Belajar
                </button>
                <h1 id="videoTitle">Video Pembelajaran</h1>
                <p id="videoDescription">Tonton video pembelajaran interaktif</p>
            </div>
        </section>

        <main class="section-padding">
            <div class="container">
                <div class="video-player-container">
                    <div class="video-player" id="videoPlayerContainer">
                        <video class="video-element" id="videoElement" preload="metadata">
                            <source src="" type="video/mp4">
                            Browser Ksmu tidak mendukung pemutaran video.
                        </video>
                        <div class="video-controls" id="videoControls">
                            <button class="control-btn" id="playPauseBtn" onclick="togglePlay()"><i class="fas fa-play"></i></button>
                            <button class="control-btn" onclick="skipTime(-10)"><i class="fas fa-backward"></i> 10s</button>
                            <button class="control-btn" onclick="skipTime(10)">10s <i class="fas fa-forward"></i></button>
                            <div class="progress-bar" onclick="seekVideo(event)">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <span class="time-display" id="timeDisplay">0:00 / 0:00</span>
                            <div class="volume-control">
                                <button class="control-btn" id="muteBtn" onclick="toggleMute()"><i class="fas fa-volume-up"></i></button>
                                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="1" step="0.1" value="1" onchange="changeVolume(this.value)" oninput="updateVolumeDisplay(this.value)">
                            </div>
                            <select class="speed-select" id="speedSelect" onchange="changeSpeed(this.value)">
                                <option value="0.5">0.5x</option>
                                <option value="0.75">0.75x</option>
                                <option value="1" selected>1x</option>
                                <option value="1.25">1.25x</option>
                                <option value="1.5">1.5x</option>
                                <option value="2">2x</option>
                            </select>
                            <button class="fullscreen-btn" onclick="toggleFullscreen()"><i class="fas fa-expand"></i></button>
                        </div>
                    </div>
                    <div style="padding: 25px;">
                        <h3 id="videoInfoTitle" style="margin-bottom: 15px; color: var(--text-light-primary);"></h3>
                        <p id="videoInfoDescription" style="color: var(--text-light-secondary); margin-bottom: 15px;"></p>
                        <div style="display: flex; flex-wrap: wrap; gap: 20px; font-size: 0.9rem; color: var(--text-light-secondary);">
                            <span id="videoInstructor"></span>
                            <span id="videoDuration"></span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Quiz Page -->
    <div id="quizPage" class="hidden">
        <section class="page-title-section">
            <div class="container">
                <button class="btn btn-secondary" onclick="showHomePage()" style="margin-bottom: 20px;">
                    <i class="fas fa-arrow-left"></i> Kembali ke Materi Belajar
                </button>
                <h1 id="quizTitle">Bank Soal</h1>
                <p id="quizDescription">Uji kemampuan pemahaman Anda</p>
            </div>
        </section>

        <main class="section-padding">
            <div class="container">
                <div id="quizContainer" class="quiz-container">
                    <div class="quiz-header">
                        <div class="quiz-timer" id="quizTimer">Waktu: 30:00</div>
                        <div class="quiz-progress" id="quizProgress">Soal 1 dari 20</div>
                    </div>
                    
                    <div class="question-container">
                        <div class="question-text" id="questionText">Pertanyaan akan muncul di sini...</div>
                        <div class="options-container" id="optionsContainer">
                            <!-- Options akan diisi melalui JavaScript -->
                        </div>
                    </div>
                    
                    <div class="quiz-navigation">
                        <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>
                            <i class="fas fa-arrow-left"></i> Sebelumnya
                        </button>
                        <button class="btn" id="nextBtn" onclick="nextQuestion()">
                            Selanjutnya <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <div id="quizResults" class="quiz-results hidden">
                    <div class="result-score">
                        <div class="score-circle" id="scoreCircle">
                            <div class="score-text" id="scoreText">0%</div>
                        </div>
                        <h2 id="resultTitle">Hasil Quiz</h2>
                        <p id="resultMessage">Selamat! Kamu telah menyelesaikan quiz.</p>
                    </div>
                    
                    <div class="result-summary" id="resultSummary">
                        <div class="result-item correct">
                            <div class="number" id="correctCount">0</div>
                            <div class="label">Jawaban Benar</div>
                        </div>
                        <div class="result-item incorrect">
                            <div class="number" id="incorrectCount">0</div>
                            <div class="label">Jawaban Salah</div>
                        </div>
                    </div>
                    
                    <div class="result-actions">
                        <button class="btn" onclick="showHomePage()">
                            <i class="fas fa-home"></i> Kembali
                        </button>
                        <button class="btn btn-secondary" onclick="retakeQuiz()">
                            <i class="fas fa-redo"></i> Ulangi Kuis
                        </button>
                        <button class="btn btn-secondary" onclick="showReviewAnswers()">
                            <i class="fas fa-eye"></i> Lihat Pembahasan
                        </button>
                    </div>

                    <div id="answerReview" class="hidden" style="margin-top: 30px;">
                        <!-- Review jawaban akan diisi melalui JavaScript -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Material Page -->
    <div id="materialPage" class="hidden">
        <section class="page-title-section">
            <div class="container">
                <button class="btn btn-secondary" onclick="showHomePage()" style="margin-bottom: 20px;">
                    <i class="fas fa-arrow-left"></i> Kembali
                </button>
                <h1 id="materialTitle">Materi Bacaan</h1>
                <p id="materialDescription">Baca dan pelajari materi dengan seksama</p>
            </div>
        </section>

        <main class="section-padding">
            <div class="container">
                <div class="material-container">
                    <div class="material-header">
                        <h2 id="materialInfoTitle">Judul Materi</h2>
                        <div class="reading-timer" id="readingTimer">Waktu Baca: 00:00</div>
                    </div>
                    
                    <div id="output"></div>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
  const rawMarkdown = `# Menggapai Cahaya Ilahi: Ketika Quran dan Hadis Menyapa Kehidupan Kita yang Semrawut

Di tengah hiruk-pikuk dunia digital yang terus berdenyut tanpa jeda—dengan notifikasi tiada henti, scroll media sosial yang tak kunjung usai, dan tuntutan hidup yang terus menumpuk—ada dua pusaka agung yang tak pernah lekang oleh waktu: **Al-Qur’an dan Hadis Nabi**.

Bayangkan sejenak. Suatu pagi yang kacau. Tiba-tiba terdengar lantunan ayat:

> **لَا إِلَٰهَ إِلَّا أَنتَ سُبْحَٰنَكَ إِنِّى كُنتُ مِنَ ٱلظَّٰلِمِينَ**  
> “Tidak ada Tuhan selain Engkau. Maha Suci Engkau. Sungguh aku termasuk orang-orang yang zalim.”  
> (QS. Al-Anbiya: 87)

## Dua Sumber Cahaya dalam Kegelapan Zaman

Allah berfirman:

> **وَأَنزَلْنَا إِلَيْكَ ٱلذِّكْرَ لِتُبَيِّنَ لِلنَّاسِ...**  
> _“Dan Kami turunkan kepadamu Al-Dzikr agar engkau menjelaskan kepada manusia...”_  
> (QS. An-Nahl: 44)

Qur'an = prinsip. Hadis = praktiknya.

## Mukjizat yang Relevan

- **Embrio manusia** dalam QS. Al-Mu’minun: 12–14
- **Ekspansi semesta** dalam QS. Adz-Dzariyat: 47

## Pedoman Nyata untuk Hidup Modern

- **Doa saat stres**:  
  > اللهم إني أعوذ بك من الهم والحزن

- **Konflik rumah tangga**:  
  > وَعَاشِرُوهُنَّ بِٱلْمَعْرُوفِ  
  > (QS. An-Nisa: 19)

- **Godaan harta haram**:  
  > “Setiap daging yang tumbuh dari harta haram, maka neraka lebih pantas baginya.”  
  > (HR. Tirmidzi)

## Langkah Nyata Memulai

1. Baca Quran 5 menit tiap pagi  
2. Pasang wallpaper hadis tiap minggu  
3. Ikut majelis taklim  
4. Amalkan satu sunnah kecil

## Penutup

Rasulullah ﷺ bersabda:

> _“Aku tinggalkan dua pusaka: Kitabullah dan Sunnahku.”_  
> (HR. Malik)

Allah berjanji:

> **فَمَنِ ٱتَّبَعَ هُدَىٰى فَلَا يَضِلُّ وَلَا يَشْقَىٰ**  
> (QS. Thaha: 123)
`;

  document.getElementById("output").innerHTML = marked.parse(rawMarkdown);
</script>

                </div>
            </div>
        </main>
    </div>

    <!-- Quiz Setup Popup -->
    <div class="quiz-popup" id="quizSetupPopup">
        <div class="quiz-popup-content">
            <span class="close-popup" onclick="closeQuizSetup()"><i class="fas fa-times"></i></span>
            <h2>Informasi Kuis</h2>
            <p>Siapkan diri Anda untuk mengerjakan kuis berikut:</p>

            <div class="quiz-info" id="quizInfo">
                <div class="quiz-info-item">
                    <div class="label">Jumlah Soal</div>
                    <div class="value" id="quizQuestionCount">20</div>
                </div>
                <div class="quiz-info-item">
                    <div class="label">Waktu</div>
                    <div class="value" id="quizTimeLimit">30 menit</div>
                </div>
                <div class="quiz-info-item">
                    <div class="label">Tingkat</div>
                    <div class="value" id="quizDifficulty">Mudah</div>
                </div>
            </div>
            
            <div style="margin-top: 20px;">
                <button class="btn" onclick="startQuiz()" id="startQuizBtn">
                    <i class="fas fa-play"></i> Mulai Kuis
                </button>
            </div>
        </div>
    </div>

    <!-- Premium Popup -->
    <div class="premium-popup" id="premiumPopup">
        <div class="premium-content">
            <span class="close-popup" onclick="closePremiumPopup()"><i class="fas fa-times"></i></span>
            <div class="premium-icon"><i class="fas fa-crown"></i></div>
            <h2>Konten Premium</h2>
            <p>Akses penuh ke semua konten premium hanya untuk anggota berlangganan. Berlangganan sekarang untuk mendapatkan manfaat:</p>
            <ul style="text-align: left; margin-bottom: 20px; padding-left: 20px; color: var(--text-light-secondary);">
                <li>Akses ke semua video pembelajaran premium</li>
                <li>Bank soal lengkap dengan pembahasan</li>
                <li>Materi bacaan eksklusif dan terupdate</li>
                <li>Prioritas dukungan dari tim ahli</li>
            </ul>
            <a class="btn premium-btn" href="harga.html">Berlangganan Sekarang</a>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-about">
                    <h3>Quran<span>Ku</span></h3>
                    <p>Platform Al-Quran digital terdepan yang berkomitmen untuk membantu umat Muslim meningkatkan kualitas ibadah dan pemahaman Al-Quran melalui teknologi modern dan inovatif.</p>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook"><img src="https://placehold.co/20x20/FFFFFF/000000?text=FB" alt="Facebook"></a>
                        <a href="#" aria-label="Instagram"><img src="https://placehold.co/20x20/FFFFFF/000000?text=IG" alt="Instagram"></a>
                        <a href="#" aria-label="Twitter"><img src="https://placehold.co/20x20/FFFFFF/000000?text=TW" alt="Twitter"></a>
                        <a href="#" aria-label="YouTube"><img src="https://placehold.co/20x20/FFFFFF/000000?text=YT" alt="YouTube"></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h4>Navigasi Cepat</h4>
                    <ul>
                        <li><a href="index.html">Beranda</a></li>
                        <li><a href="tentang.html">Tentang Kami</a></li>
                        <li><a href="harga.html">Paket Berlangganan</a></li>
                        <li><a href="materi.html">Fitur Al-Quran</a></li>
                        <li><a href="kontak.html">Hubungi Kami</a></li>
                        <li><a href="harga.html#faq">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h4>Hubungi Kami</h4>
                    <p><img src="https://placehold.co/20x20/2E856E/FFFFFF?text=M" alt="Email Icon"> info@quranku.com</p>
                    <p><img src="https://placehold.co/20x20/2E856E/FFFFFF?text=P" alt="Telepon Icon"> (021) 1234-5678</p>
                    <p><img src="https://placehold.co/20x20/2E856E/FFFFFF?text=L" alt="Lokasi Icon"> Jl. Masjid Istiqlal No. 456, Jakarta Pusat</p>
                </div>
            </div>
            <hr class="footer-divider">
            <p class="footer-copy">&copy; <span id="currentYear"></span> QuranKu Digital. Semua Hak Cipta Dilindungi.</p>
        </div>
    </footer>

    <script>
        // Global Variables
        let contentData = {};
        let currentMode = '';
        let currentSubject = 'all';
        let currentContent = null;
        let searchQuery = '';
        let filteredContent = [];
        
        // Quiz Variables
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let quizTimer = null;
        let quizTimeLeft = 0;
        
        // Material Variables
        let readingTimer = null;
        let readingTime = 0;

        // DOM Elements
        const homePage = document.getElementById('homePage');
        const videoPage = document.getElementById('videoPage');
        const quizPage = document.getElementById('quizPage');
        const materialPage = document.getElementById('materialPage');
        const modeSelection = document.getElementById('modeSelection');
        const contentSection = document.getElementById('contentSection');
        const contentGrid = document.getElementById('contentGrid');
        const modeCards = document.querySelectorAll('.mode-card');
        const subjectTabs = document.querySelectorAll('.subject-tab');
        const searchInput = document.getElementById('searchInput');
        const premiumPopup = document.getElementById('premiumPopup');
        const quizSetupPopup = document.getElementById('quizSetupPopup');

        // Load content data from JSON file
        async function loadContentData() {
            try {
                const response = await fetch('content.json');
                contentData = await response.json();
            } catch (error) {
                console.error('Error loading content data:', error);
                // Fallback data if file cannot be loaded
                contentData = {
                    video: {
                        'quran-hadis': [
                            {
                                title: 'Tafsir Surat Al-Fatihah',
                                description: 'Penjelasan mendalam tentang makna dan tafsir surat pembuka Al-Quran',
                                duration: '45 menit',
                                instructor: 'Ustadz Ahmad Husein',
                                thumbnail: 'https://images.unsplash.com/photo-1519730722595-a5ff788dea4d?q=80&w=1470&auto=format&fit=crop',
                                videoSrc: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',
                                premium: false
                            }
                        ]
                    },
                    quiz: {
                        'quran-hadis': [
                            {
                                title: 'Kuis Hafalan Surat Pendek',
                                description: 'Uji hafalan surat-surat pendek dalam Al-Quran',
                                questions: '5 soal',
                                timeLimit: '10 menit',
                                difficulty: 'Mudah',
                                premium: false,
                                questionsList: [
                                    {
                                        question: 'Berapa jumlah ayat dalam Surat Al-Fatihah?',
                                        options: ['5 ayat', '6 ayat', '7 ayat', '8 ayat'],
                                        answer: 2,
                                        explanation: 'Surat Al-Fatihah terdiri dari 7 ayat yang merupakan surat pembuka Al-Quran.'
                                    }
                                ]
                            }
                        ]
                    },
                    material: {
                        'quran-hadis': [
                            {
                                title: 'Panduan Tafsir Al-Quran',
                                description: 'Buku panduan memahami tafsir Al-Quran untuk pemula',
                                pages: '150 halaman',
                                format: 'PDF',
                                premium: false,
                                content: '<h3>Panduan Tafsir Al-Quran</h3><p>Materi lengkap untuk memahami tafsir Al-Quran.</p>'
                            }
                        ]
                    }
                };
            }
        }

        // Event Listeners
        modeCards.forEach(card => {
            card.addEventListener('click', () => {
                const mode = card.dataset.mode;
                selectMode(mode);
            });
        });

        subjectTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const subject = tab.dataset.subject;
                selectSubject(subject);
            });
        });

        searchInput.addEventListener('keyup', (e) => {
            if (e.key === 'Enter') {
                searchContent();
            }
        });

        // Hamburger menu for mobile
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');

        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
        });

        // Navigation Functions
        function showHomePage() {
            homePage.classList.remove('hidden');
            videoPage.classList.add('hidden');
            quizPage.classList.add('hidden');
            materialPage.classList.add('hidden');
            premiumPopup.classList.remove('active');
            quizSetupPopup.classList.remove('active');
            
            // Stop timers
            if (quizTimer) {
                clearInterval(quizTimer);
                quizTimer = null;
            }
            if (readingTimer) {
                clearInterval(readingTimer);
                readingTimer = null;
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            
            // Update active mode card
            modeCards.forEach(card => card.classList.remove('active'));
            document.querySelector(`[data-mode="${mode}"]`).classList.add('active');
            
            // Show content section
            modeSelection.classList.add('hidden');
            contentSection.classList.remove('hidden');
            
            // Reset subject selection
            currentSubject = 'all';
            subjectTabs.forEach(tab => tab.classList.remove('active'));
            document.querySelector('[data-subject="all"]').classList.add('active');
            
            // Reset search
            searchInput.value = '';
            searchQuery = '';
            
            // Load content
            loadContent();
        }

        function selectSubject(subject) {
            currentSubject = subject;
            
            // Update active subject tab
            subjectTabs.forEach(tab => tab.classList.remove('active'));
            document.querySelector(`[data-subject="${subject}"]`).classList.add('active');
            
            // Load content
            loadContent();
        }

        function backToModeSelection() {
            modeSelection.classList.remove('hidden');
            contentSection.classList.add('hidden');
            modeCards.forEach(card => card.classList.remove('active'));
            currentMode = '';
        }

        function searchContent() {
            searchQuery = searchInput.value.toLowerCase().trim();
            loadContent();
        }

        function loadContent() {
            const modeData = contentData[currentMode];
            let allContent = [];
            
            if (currentSubject === 'all') {
                // Get all content from all subjects
                Object.keys(modeData).forEach(subject => {
                    if (modeData[subject]) {
                        modeData[subject].forEach((item, index) => {
                            allContent.push({...item, subject, id: `${subject}-${index}`});
                        });
                    }
                });
            } else {
                // Get content from specific subject
                if (modeData[currentSubject]) {
                    allContent = modeData[currentSubject].map((item, index) => ({...item, subject: currentSubject, id: `${currentSubject}-${index}`}));
                }
            }
            
            // Filter content based on search query
            if (searchQuery) {
                filteredContent = allContent.filter(item => 
                    item.title.toLowerCase().includes(searchQuery) || 
                    item.description.toLowerCase().includes(searchQuery)
                );
            } else {
                filteredContent = allContent;
            }
            
            renderContent(filteredContent);
        }

        function renderContent(content) {
            contentGrid.innerHTML = '';
            
            if (content.length === 0) {
                contentGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px; color: var(--text-light-secondary);">
                        <h3 style="margin-bottom: 15px; font-size: 1.5rem;">Konten Tidak Ditemukan</h3>
                        <p>Tidak ada konten yang sesuai dengan pencarian Anda. Silakan coba kata kunci lain.</p>
                    </div>
                `;
                return;
            }
            
            content.forEach(item => {
                const card = createContentCard(item);
                contentGrid.appendChild(card);
            });
        }

        function createContentCard(item) {
            const card = document.createElement('div');
            card.className = 'content-card fade-in';
            
            const thumbnailClass = getThumbnailClass(currentMode);
            const metaInfo = getMetaInfo(item, currentMode);
            
            card.innerHTML = `
                <div class="content-thumbnail ${thumbnailClass}">
                    <img src="${item.thumbnail || 'Galeri/branding.png'}" alt="${item.title}">
                    ${item.premium ? '<div class="premium-badge">PREMIUM</div>' : ''}
                </div>
                <div class="content-info">
                    <h4>${item.title}</h4>
                    <p>${item.description}</p>
                    ${item.instructor ? `<div class="instructor-info"><i class="fas fa-user"></i> ${item.instructor}</div>` : ''}
                    <div class="content-meta">
                        <span>${metaInfo}</span>
                    </div>
                    <button class="btn" onclick="openContent('${item.id}')">
                        ${getActionText(currentMode)}
                    </button>
                </div>
            `;
            
            return card;
        }

        function getThumbnailClass(mode) {
            switch(mode) {
                case 'video': return 'video-thumbnail';
                case 'quiz': return 'quiz-thumbnail';
                case 'material': return 'material-thumbnail';
                default: return '';
            }
        }

        function getMetaInfo(item, mode) {
            switch(mode) {
                case 'video': return `<i class="fas fa-clock"></i> ${item.duration || 'Durasi tidak tersedia'}`;
                case 'quiz': return `<i class="fas fa-list"></i> ${item.questions || 'Jumlah soal tidak tersedia'}`;
                case 'material': return `<i class="fas fa-file"></i> ${item.pages || 'Halaman tidak tersedia'}`;
                default: return '';
            }
        }

        function getActionText(mode) {
            switch(mode) {
                case 'video': return '<i class="fas fa-play"></i> Tonton Video';
                case 'quiz': return '<i class="fas fa-play"></i> Mulai Kuis';
                case 'material': return '<i class="fas fa-book-open"></i> Baca Materi';
                default: return 'Lihat Detail';
            }
        }

        function openContent(contentId) {
            const content = filteredContent.find(item => item.id === contentId);
            
            if (!content) return;
            
            currentContent = content;
            
            // Check if content is premium
            if (content.premium) {
                showPremiumPopup();
                return;
            }
            
            switch(currentMode) {
                case 'video':
                    openVideoPlayer(content);
                    break;
                case 'quiz':
                    openQuizSetup(content);
                    break;
                case 'material':
                    openMaterial(content);
                    break;
            }
        }

        // Video Player Functions
        function openVideoPlayer(content) {
            homePage.classList.add('hidden');
            videoPage.classList.remove('hidden');
            
            document.getElementById('videoTitle').textContent = content.title;
            document.getElementById('videoDescription').textContent = content.description;
            document.getElementById('videoInfoTitle').textContent = content.title;
            document.getElementById('videoInfoDescription').textContent = content.description;
            document.getElementById('videoInstructor').innerHTML = `<i class="fas fa-user"></i> ${content.instructor}`;
            document.getElementById('videoDuration').innerHTML = `<i class="fas fa-clock"></i> ${content.duration}`;
            
            // Set video source
            const videoElement = document.getElementById('videoElement');
            videoElement.src = content.videoSrc || 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4';
            
            // Initialize video
            initializeVideo();
        }

        function initializeVideo() {
            const videoElement = document.getElementById('videoElement');
            const playPauseBtn = document.getElementById('playPauseBtn');
            
            if (videoElement) {
                videoElement.addEventListener('loadedmetadata', () => {
                    updateVideoProgress();
                    updateVolumeSlider();
                });
                
                videoElement.addEventListener('timeupdate', () => {
                    updateVideoProgress();
                });
                
                videoElement.addEventListener('ended', () => {
                    playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                });
                
                // Load the video
                videoElement.load();
            }
        }

        function togglePlay() {
            const videoElement = document.getElementById('videoElement');
            const playPauseBtn = document.getElementById('playPauseBtn');
            
            if (!videoElement) return;
            
            if (videoElement.paused) {
                videoElement.play();
                playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
            } else {
                videoElement.pause();
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
            }
        }

        function skipTime(seconds) {
            const videoElement = document.getElementById('videoElement');
            if (!videoElement) return;
            
            videoElement.currentTime = Math.max(0, Math.min(videoElement.duration, videoElement.currentTime + seconds));
        }

        function seekVideo(event) {
            const videoElement = document.getElementById('videoElement');
            if (!videoElement || !videoElement.duration) return;
            
            const progressBar = event.currentTarget;
            const rect = progressBar.getBoundingClientRect();
            const clickX = event.clientX - rect.left;
            const percentage = clickX / rect.width;
            videoElement.currentTime = percentage * videoElement.duration;
        }

        function changeSpeed(rate) {
            const videoElement = document.getElementById('videoElement');
            if (!videoElement) return;
            
            videoElement.playbackRate = parseFloat(rate);
        }

        function toggleMute() {
            const videoElement = document.getElementById('videoElement');
            const muteBtn = document.getElementById('muteBtn');
            const volumeSlider = document.getElementById('volumeSlider');
            
            if (!videoElement) return;
            
            videoElement.muted = !videoElement.muted;
            
            if (videoElement.muted) {
                muteBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
                volumeSlider.value = 0;
            } else {
                muteBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
                volumeSlider.value = videoElement.volume;
            }
            updateVolumeSlider();
        }

        function changeVolume(value) {
            const videoElement = document.getElementById('videoElement');
            const muteBtn = document.getElementById('muteBtn');
            
            if (!videoElement) return;
            
            videoElement.volume = parseFloat(value);
            videoElement.muted = (value == 0);
            
            if (videoElement.muted || value == 0) {
                muteBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
            } else {
                muteBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
            }
            updateVolumeSlider();
        }

        function updateVolumeDisplay(value) {
            updateVolumeSlider();
        }

        function updateVolumeSlider() {
            const videoElement = document.getElementById('videoElement');
            const volumeSlider = document.getElementById('volumeSlider');
            
            if (!videoElement || !volumeSlider) return;
            
            const volume = videoElement.muted ? 0 : videoElement.volume;
            const percentage = volume * 100;
            
            // Update slider background to show filled portion
            volumeSlider.style.background = `linear-gradient(to right, var(--secondary-color) 0%, var(--secondary-color) ${percentage}%, rgba(255,255,255,0.3) ${percentage}%, rgba(255,255,255,0.3) 100%)`;
        }

        function toggleFullscreen() {
            const videoContainer = document.getElementById('videoPlayerContainer');
            const fullscreenBtn = document.querySelector('.fullscreen-btn i');
            
            if (!document.fullscreenElement) {
                if (videoContainer.requestFullscreen) {
                    videoContainer.requestFullscreen();
                } else if (videoContainer.webkitRequestFullscreen) {
                    videoContainer.webkitRequestFullscreen();
                } else if (videoContainer.msRequestFullscreen) {
                    videoContainer.msRequestFullscreen();
                }
                fullscreenBtn.className = 'fas fa-compress';
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
                fullscreenBtn.className = 'fas fa-expand';
            }
        }

        // Listen for fullscreen changes
        document.addEventListener('fullscreenchange', () => {
            const fullscreenBtn = document.querySelector('.fullscreen-btn i');
            if (document.fullscreenElement) {
                fullscreenBtn.className = 'fas fa-compress';
            } else {
                fullscreenBtn.className = 'fas fa-expand';
            }
        });

        function updateVideoProgress() {
            const videoElement = document.getElementById('videoElement');
            if (!videoElement) return;
            
            const progressFill = document.getElementById('progressFill');
            const timeDisplay = document.getElementById('timeDisplay');
            
            const currentTime = videoElement.currentTime;
            const duration = videoElement.duration;
            
            if (duration > 0) {
                const progress = (currentTime / duration) * 100;
                progressFill.style.width = `${progress}%`;
                timeDisplay.textContent = `${formatTime(currentTime)} / ${formatTime(duration)}`;
            }
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs.toString().padStart(2, '0')}`;
        }

        // Quiz Functions
        function openQuizSetup(content) {
            currentQuiz = content;
            document.getElementById('quizTitle').textContent = content.title;
            document.getElementById('quizDescription').textContent = content.description;
            
            // Update quiz info
            document.getElementById('quizQuestionCount').textContent = content.questions;
            document.getElementById('quizTimeLimit').textContent = content.timeLimit;
            document.getElementById('quizDifficulty').textContent = content.difficulty;
            
            quizSetupPopup.classList.add('active');
        }

        function closeQuizSetup() {
            quizSetupPopup.classList.remove('active');
        }

        function startQuiz() {
            if (!currentQuiz) return;
            
            closeQuizSetup();
            
            // Initialize quiz
            currentQuestionIndex = 0;
            userAnswers = [];
            
            // Parse time limit (convert "30 menit" to seconds)
            const timeMatch = currentQuiz.timeLimit.match(/(\d+)/);
            quizTimeLeft = timeMatch ? parseInt(timeMatch[1]) * 60 : 1800; // Default 30 minutes
            
            // Show quiz page
            homePage.classList.add('hidden');
            quizPage.classList.remove('hidden');
            
            // Hide results and show quiz container
            document.getElementById('quizContainer').classList.remove('hidden');
            document.getElementById('quizResults').classList.add('hidden');
            
            // Start timer
            startQuizTimer();
            
            // Load first question
            loadQuestion();
        }

        function startQuizTimer() {
            const timerElement = document.getElementById('quizTimer');
            
            quizTimer = setInterval(() => {
                quizTimeLeft--;
                
                const minutes = Math.floor(quizTimeLeft / 60);
                const seconds = quizTimeLeft % 60;
                timerElement.textContent = `Waktu: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (quizTimeLeft <= 0) {
                    clearInterval(quizTimer);
                    finishQuiz();
                }
            }, 1000);
        }

        function loadQuestion() {
            const question = currentQuiz.questionsList[currentQuestionIndex];
            
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('quizProgress').textContent = `Soal ${currentQuestionIndex + 1} dari ${currentQuiz.questionsList.length}`;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionBtn = document.createElement('button');
                optionBtn.className = 'option-btn';
                optionBtn.textContent = option;
                optionBtn.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionBtn);
            });
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            document.getElementById('nextBtn').textContent = currentQuestionIndex === currentQuiz.questionsList.length - 1 ? 'Selesai' : 'Selanjutnya';
            
            // Restore previous answer if exists
            if (userAnswers[currentQuestionIndex] !== undefined) {
                const selectedOption = optionsContainer.children[userAnswers[currentQuestionIndex]];
                if (selectedOption) {
                    selectedOption.classList.add('selected');
                }
            }
        }

        function selectOption(optionIndex) {
            // Remove previous selection
            document.querySelectorAll('.option-btn').forEach(btn => btn.classList.remove('selected'));
            
            // Add selection to clicked option
            document.querySelectorAll('.option-btn')[optionIndex].classList.add('selected');
            
            // Store answer
            userAnswers[currentQuestionIndex] = optionIndex;
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuiz.questionsList.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                finishQuiz();
            }
        }

        function finishQuiz() {
            // Stop timer
            if (quizTimer) {
                clearInterval(quizTimer);
                quizTimer = null;
            }
            
            // Calculate score
            let correctAnswers = 0;
            currentQuiz.questionsList.forEach((question, index) => {
                if (userAnswers[index] === question.answer) {
                    correctAnswers++;
                }
            });
            
            const totalQuestions = currentQuiz.questionsList.length;
            const incorrectAnswers = totalQuestions - correctAnswers;
            const score = Math.round((correctAnswers / totalQuestions) * 100);
            
            // Hide quiz container and show results
            document.getElementById('quizContainer').classList.add('hidden');
            document.getElementById('quizResults').classList.remove('hidden');
            
            // Update score display
            const scoreCircle = document.getElementById('scoreCircle');
            const scoreText = document.getElementById('scoreText');
            const resultTitle = document.getElementById('resultTitle');
            const resultMessage = document.getElementById('resultMessage');
            
            scoreText.textContent = `${score}%`;
            scoreCircle.style.setProperty('--score-angle', `${(score / 100) * 360}deg`);
            
            // Update result summary
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('incorrectCount').textContent = incorrectAnswers;
            
            if (score >= 80) {
                resultTitle.textContent = 'Excellent!';
                resultMessage.textContent = 'Selamat! Anda memiliki pemahaman yang sangat baik.';
            } else if (score >= 60) {
                resultTitle.textContent = 'Good Job!';
                resultMessage.textContent = 'Bagus! Terus tingkatkan pemahaman Anda.';
            } else {
                resultTitle.textContent = 'Keep Learning!';
                resultMessage.textContent = 'Jangan menyerah! Terus belajar untuk hasil yang lebih baik.';
            }
        }

        function showReviewAnswers() {
            const reviewContainer = document.getElementById('answerReview');
            reviewContainer.classList.remove('hidden');
            reviewContainer.innerHTML = '<h3 style="margin-bottom: 20px; color: var(--text-light-primary);">Pembahasan Soal</h3>';
            
            currentQuiz.questionsList.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.answer;
                
                const answerItem = document.createElement('div');
                answerItem.className = `answer-item ${isCorrect ? '' : 'incorrect'}`;
                answerItem.style.cssText = `
                    background: ${isCorrect ? 'rgba(39, 174, 96, 0.1)' : 'rgba(231, 76, 60, 0.1)'};
                    border-radius: var(--border-radius);
                    padding: 20px;
                    margin-bottom: 15px;
                    border-left: 4px solid ${isCorrect ? '#27ae60' : '#e74c3c'};
                `;
                
                answerItem.innerHTML = `
                    <div style="font-weight: 600; margin-bottom: 10px; color: var(--text-light-primary);">
                        ${index + 1}. ${question.question}
                    </div>
                    <div style="font-size: 0.9rem; color: var(--text-light-secondary); margin-bottom: 10px;">
                        <strong>Jawaban Anda:</strong> ${userAnswer !== undefined ? question.options[userAnswer] : 'Tidak dijawab'}<br>
                        <strong>Jawaban Benar:</strong> ${question.options[question.answer]}
                    </div>
                    <div style="margin-top: 10px; padding: 10px; background: rgba(0, 0, 0, 0.2); border-radius: 6px; font-style: italic;">
                        <strong>Penjelasan:</strong> ${question.explanation}
                    </div>
                `;
                
                reviewContainer.appendChild(answerItem);
            });
        }

        function retakeQuiz() {
            openQuizSetup(currentQuiz);
        }

        // Material Functions
        function openMaterial(content) {
            homePage.classList.add('hidden');
            materialPage.classList.remove('hidden');
            
            document.getElementById('materialTitle').textContent = content.title;
            document.getElementById('materialDescription').textContent = content.description;
            document.getElementById('materialInfoTitle').textContent = content.title;
            
            // Set material content
            const materialContent = document.getElementById('materialContent');
            materialContent.innerHTML = content.content;
            
            // Start reading timer
            readingTime = 0;
            startReadingTimer();
        }

        function startReadingTimer() {
            const timerElement = document.getElementById('readingTimer');
            
            readingTimer = setInterval(() => {
                readingTime++;
                
                const minutes = Math.floor(readingTime / 60);
                const seconds = readingTime % 60;
                timerElement.textContent = `Waktu Baca: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        // Premium Functions
        function showPremiumPopup() {
            premiumPopup.classList.add('active');
        }

        function closePremiumPopup() {
            premiumPopup.classList.remove('active');
        }

        // Initialize
        window.addEventListener('load', async function() {
            await loadContentData();
            showHomePage();
        });
    </script>
</body>
</html>